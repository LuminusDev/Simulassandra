\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage[tikz]{bclogo}
\usepackage{geometry}
\usepackage{array}
\geometry{hmargin=2.5cm,vmargin=1.5cm}

\setlength{\parskip}{1ex plus 2ex minus 1ex}
\newcolumntype{M}[1]{
    >{\raggedright}m{#1}
}

\newcommand{\besoin}[2] {
  (\textit{Priorité} : #1, \textit{criticité} : #2)
}

\title{
 \begin{minipage}\linewidth
        \centering
        Simulation d'algorithmes d'équilibrage de charge dans un environnement distribué 
        \vskip3pt
        \large Identifications des besoins
    \end{minipage}
 }
    
\author{Kevin Barreau \and Guillaume Marques \and Corentin Salingue}

\begin{document}

\maketitle

\abstract
Ce document dégage une première identification des besoins.
Il s'agit d'un document support pour l'élaboration du cahier des charges

\newpage

\renewcommand{\contentsname}{Sommaire} 

\tableofcontents

\newpage

\section{Définition du projet}

\subsection{Contexte}

\paragraph{}
L'expansion, au cours des deux dernières décennies, des réseaux et notamment d'Internet a engendré une importante création de données, massives par leur nombre et leur taille.
Stocker ces informations sur un seul point de stockage (ordinateur par exemple) n'est bien sûr plus envisageable, que ce soit pour des raisons techniques ou pour des raisons de sûreté (pannes potentielles par exemple).
Pour cela des systèmes de stockages dits distribués sont utilisés en pratique afin des les répartir sur différentes unités de stockages.

\paragraph{Définition} Un environnement distribué est constitué de plusieurs machines (ordinateurs), appelées \textit{noeuds}, sur lesquelles sont stockées des données.

\paragraph{Définition} Une donnée est une suite binaire de $0$ et de $1$ dont le contenu n'est pas important pour l'application.

\paragraph{} Le client souhaite répartir toutes ces données de manière équitable entre les noeuds. De plus, il souhaite que ces données soient accessibles afin de pouvoir les requêter et récupérer de l'information.

\paragraph{Définition} Une requête est un message envoyé à une machine (ou plusieurs machines) afin de récupérer ou de modifier de l'information sur des données.
Nous noterons que la nature de l'information est inutile pour le bon fonctionnement de l'application.

\paragraph{} Pour répartir toutes ces données, notre client a développé de nouveaux algorithmes d'équilibrage de charge et de réplication qu'il souhaite tester dans un environnement distribué.

\paragraph{Définition} Une \textit{charge} est associée à un noeud et désigne le nombre de requêtes que le noeud doit traiter. 

\paragraph{Définition} La réplication d'une donnée consiste à faire des copies de cette donnée sur d'autres noeuds.

\subsection{Finalité}

\paragraph{} Nous devons développer une solution logicielle permettant de tester ces nouveaux algorithmes d'équilibrage de charge et de réplication dans un environnement distribué.

\paragraph{Définition} Un réseau est un ensemble de noeuds qui sont reliés entre eux (en général par Internet) et qui communiquent ensemble afin de traiter toutes les requêtes reçues.

\paragraph{Définition} La topologie d'un réseau représente l'architecture physique ou logicielle des liens entre les noeuds. Elle comporte aussi des informations sur la
 hiérarchie des noeuds, le placement spatial et les divers équipements reliant les noeuds.

\paragraph{Définition} L'état d'un réseau est l'ensemble des informations caractérisant un réseau (topologie par exemple) ainsi que des informations sur les noeuds (comme leur charge actuelle).

\paragraph{Définition} Un jeu de données est un ensemble de données dont on connait la position sur les noeuds (la donnée numéro X est sur le noeud numéro Y), éventuellement, leur contenu et qu'on est capable d'exporter et de reproduire. L'export pourra se faire sous la forme d'un jeu de requêtes pour placer les données choisies.

\paragraph{Définition} Un jeu de requêtes est un ensemble de requêtes qu'on est capable d'exporter sous forme d'un programme ou d'un fichier qui sera exécuté par la solution et qui peut être reproduit.

\paragraph{}Cette solution doit permettre le paramétrage d'un réseau, c'est-à-dire le nombre de noeuds souhaité et la topologie du réseau.
Le client pourra simuler différents jeux de données et jeux de requêtes sur ce réseau. Cela permettra de comparer l'efficacité de ces algorithmes avec le même environnement (même jeux de données et de requêtes).
Il pourra tester ses algorithmes implémentés.
Enfin, il pourra visualiser la topologie et l'état du réseau \textit{à tout moment}.

\newpage
\section{Hiérarchisation des besoins}

\paragraph{} Nous avons dégagé des précédentes réunions, une liste de besoins fonctionnels et non-fonctionnels. 
Pour mieux les comparer, nous les avons hiérarchisés en fonction de leur priorité et de leur criticité.

\subsection{Priorité}

\paragraph{} La priorité est un indicateur de l'ordre dans lequel nous devrons implémenter les besoins afin de satisfaire au mieux les exigences du client.


\paragraph{}
\begin{tabular}{| l | M{3cm} | M{9cm} |}
    \hline
    Valeur & Signification & Description \tabularnewline
    \hline
    1 & Priorité haute & A implémenter dans les premiers temps \tabularnewline
    \hline
    2 & Priorité moyenne & A implémenter  \tabularnewline
    \hline
    3 & Priorité faible & A implémenter (en fonction du temps restant)  \tabularnewline
    \hline
 \end{tabular}
 

\subsection{Criticité}

\paragraph{} Le niveau de criticité d'un besoin est un indicateur de l'impact qu'aura la non-implémentation de ce besoin sur le bon fonctionnement de l'application.


\paragraph{}
\begin{tabular}{| l | M{3cm} | M{9cm} |}
    \hline
    Valeur & Signification & Description \tabularnewline
    \hline
    1 & Criticité extrême & L'application ne fonctionnera pas  \tabularnewline
    \hline
    2 & Criticité haute & Certaines fonctionnalités de l'application ne fonctionneront pas  \tabularnewline
    \hline
    3 & Criticité moyenne & Certaines fonctionnalités seront perturbées  \tabularnewline
    \hline
    4 & Criticité faible & L'application fonctionnera correctement  \tabularnewline
    \hline
 \end{tabular}

\newpage
\section{Besoins fonctionnels}

L'environnement de simulation voulu est un système distribué constitué de $n$ noeuds de stockage dans lequel on souhaite stocker $m$ objets.

\subsection{Environnement distribué}

\paragraph{} Nous évoluerons dans un environnement distribué \besoin{1}{1}.
En effet, le client souhaite tester des algorithmes d'équilibrage de charges et de gestion de copies qui ne peuvent fonctionner uniquement dans un environnement distribué.

%Un environnement distribué est constitué de plusieurs machines, appelées \textit{noeuds}, sur lesquelles sont stockées les données et sont distribuées les tâches à effectuer, appelées \textit{requêtes}.
	
%\vspace{0.5cm}
%Le client souhaite l'utilisation de l'environnement distribué Cassandra car il pense que tous les aspects qu'il souhaite tester sont facilement implémentables ici.
% Faux - Cassandra car c'est la BDD qu'ils connaissent le mieux.
%Utilisation de Cassandra. Pourquoi ? \newline
%\begin{itemize}
% \item Le client est plus à l'aise avec cette solution (il a quelques connaissances sur le logiciel)
% \item Pourquoi pas une autre BDD ? (développer)
%\end{itemize}

\subsection{Gestion d'un réseau}

\paragraph{} Comme défini précédemment, un réseau est un ensemble de noeuds qui sont reliés entre eux (en général par Internet) et qui communiquent ensemble afin de traiter toutes les requêtes reçues.

\subsubsection{Gestion des noeuds}

\paragraph{} Un noeud est une machine (ordinateur généralement) pouvant stocker des données et traiter des requêtes. Un noeud possède des données internes. Ces données sont propres au fonctionnement du noeud (comme la charge par exemple).

\paragraph{Création d'un noeud} La création d'un noeud \besoin{1}{1} se fait au moment où le réseau n'existe pas encore. 
Le projet ne prend en compte ni la création dynamique de noeud (création et ajout d'un noeud après que le réseau soit créé), ni la suppression de noeud. 
Il est possible de séparer ce besoin en plusieurs sous-besoins :
 \begin{itemize}
 	\item Créer un noeud dans l'environnement de simulation
 	\item Initialiser les données internes d'un noeud \vspace{0.2cm}
 \end{itemize}
 
\paragraph{Données d'un noeud} De plus, l'application doit permettre :
\begin{itemize}
 \item Récupérer les données internes d'un noeud \besoin{1}{1}
 \item Mettre à jour les données internes d'un noeud \besoin{1}{1}
\end{itemize}

\subsubsection{Gestion des objets}

\paragraph{} Un objet est...

\paragraph{} Le client souhaite pouvoir :
\begin{itemize}
 \item Créer un objet
 \item Supprimer un objet
\end{itemize}

\subsubsection{Popularité d'un objet}

\paragraph{} Les algorithmes du client nécessitent de connaître la popularité d'un objet dans le réseau.
La popularité d'un objet est fonction du nombre de requêtes sur cet objet. Plus ce nombre de requêtes est grand, plus l'objet est populaire.



%\textbf{Question } Sur quel type d'objet allons-nous travailler ? \newline

%\begin{itemize}
 %\item Creer un objet
 %\item Supprimer un objet
 %\item Gérer la popularité d'un objet
 %\begin{itemize}
  %\item Implémenter l'algorithme d'approximation Space-Saving Algorithm
  %\item Ajouter un vecteur de taille $n$ à chaque noeud dans le lequel on stockera les objets les plus populaires
  %\item Protocole de communication pour le calcul des objets les plus populaires \textbf{(Modifier gossip? Nouveau ?)}
 %\end{itemize}
%\end{itemize}

%\vspace{0.5cm}

%\textbf{Question } Gestion de la popularité : quelle période (fixe ou fenêtre glissante) ? \newline
%\textbf{Question } Position de l'objet sur le noeud ? \newline
%\textbf{Note } Bien définir l'algorithme. \newline

\subsubsection{Topologie du réseau}

\paragraph{} Un noeud maître est un noeud connu de tous les autres noeuds dans le réseau. Un noeud communique à un intervalle de temps régulier avec les autres noeuds du réseau. Tous les noeuds du réseau possèdent des informations sur les autres noeuds du réseau.

\paragraph{} L'application doit permettre :
\begin{itemize}
	\item Communiquer les données internes à un noeud maître \besoin{1}{1}
	\item Paramétrer l'intervalle de temps de communication \besoin{2}{3}
	\item Stocker les informations des autres noeuds \besoin{1}{2}
\end{itemize}

\subsubsection{Sauvegarde d'un réseau}
\paragraph{}  Objet de la prochaine réunion

\subsubsection{Importation d'un réseau}
\paragraph{} Objet de la prochaine réunion


\subsection{Algorithmes}

\subsubsection{Algorithmes à implémenter}

\paragraph{Définitions} La charge minimum est ...

\paragraph{} La charge moyenne est ...

\paragraph{} Les algorithmes d'équilibrage de charge à implémenter sont (extrait du modèle du client) :

\begin{itemize}
 \item \textbf{SLVO} \besoin{1}{1} 
 \begin{itemize}
  \item Déterminer la charge minimum courante.
  \item Si la charge du noeud est inférieure ou égale à la charge minimum, il s'affecte toutes les requêtes en attente et en avertit les autres noeuds. \vspace{0.2cm}
 \end{itemize}
 
 \item \textbf{AverageDegree} \besoin{1}{1} 
 \begin{itemize}
  \item Déterminer la charge moyenne courante
  \item Si la charge du noeud est inférieure ou égale à la charge moyenne, il s'affecte toutes les requêtes en attente et en avertit les autres noeuds.
 \end{itemize}

\end{itemize}

\paragraph{Gestion des copies} Entité à part entière ? (prochaine réunion)


\subsubsection{Conformité des implémentations}

\paragraph{} La conformité des algorithmes implémentés est assurée par des jeux de tests suivant la démarche :

\begin{itemize}
	\item Créer un jeu de test à la main, comprenant les paramètres de création et l'ensemble des requêtes à traiter
	\item Faire fonctionner l'algorithme à la main
	\item Stocker l'état final du fonctionnement de l'algorithme
	\item Faire valider le processus à la main par le client
	\item Lancer la simulation de l'algorithme avec le jeu de test créé à la main
	\item Vérifier les résultats constatés avec les résultats attendus
\end{itemize}
	
\paragraph{} Si il y a une différence entre le résultat de l'éxécution de l'algorithme à la main et le résultat de l'éxécution par simulation, une vérification par le client peut être envisagée dans le cas de résultats \textit{presque} similaires. 
La notion de similitude est laissée à l'appréciation de l'équipe en charge du projet, lors de la vérification.


\subsubsection{Autres algorithmes}

\paragraph{} Le client souhaite aussi avoir la possibilité de tester d'autres algorithmes. 
Notre solution doit donc proposer un système permettant d'implémenter ces algorithmes et de les tester. \besoin{3}{3} 


\subsection{Simulation de requêtes}

\paragraph{} Une requête est un message envoyé à une machine (ou plusieurs machines) afin de récupérer ou de modifier de l'information sur des données.

\subsubsection{Gestion des requêtes}

\paragraph{} Le client souhaite pouvoir :
\begin{itemize}
 \item Créer une requête
 \item Supprimer une requête
\end{itemize}

\subsubsection{Envoi d'une requête}
\paragraph{} L'envoi d'une requête peut se faire

\subsubsection{Création d'un jeu de requête}
\paragraph{} Objet de la prochaine réunion

\subsubsection{Sauvegarde d'un jeu de requête}
\paragraph{} Objet de la prochaine réunion

\subsubsection{Importation d'un jeu de requête}
\paragraph{} Objet de la prochaine réunion


%\textbf{Question } Quelle format pour le stockage d'un jeu de requêtes ? \newline

\subsection{Visualisation des données}

\begin{itemize}
 \item Temps de réponse moyen sur les requêtes passées.
 \item Charge d'un noeud
 \item Popularité des objets
\end{itemize}


\textbf{Note } Bien définir ces items. \newline


\newpage

\section{Besoins non fonctionnels}

\subsection{Cassandra}

\paragraph{} Cassandra est une base de données distribuée. 


\subsection{Gestion d'un réseau}

\subsection{Algorithmes}

\subsection{Visualisation des données}


\newpage

\section{Livrables}

\include{user_scenario}





\end{document}
